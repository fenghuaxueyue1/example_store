# 示例电商开发文档


|版本|注释|时间|
|---|---|---|
|v_0.1|数据库初始设计|2021/11/24 13:00:00|
||接口框架设计|2021/11/25 00:30:00|
||tb_user.phone改为email|2021/11/25 12:30:00|
||||
||||



##  数据库设计
***数据库名称: db_example_store***



### 约定

- 金额字段以分为单位存入

---



### 用户表 tb_user

| 字段名称         | 字段类型 | 字段注释                   |
| ---------------- | -------- | -------------------------- |
| id               |          |                            |
| nickname         |          | 昵称                       |
| portrait         |          | 头像                       |
| gender           |          | 性别(Null: 保密/0:女/1:男) |
| email            |          | 邮箱                       |
| create_timestamp | Integer  | 创建时间                   |

---



### 身份表 tb_identity

| 字段名称       | 字段类型 | 字段注释   |
| -------------- | -------- | ---------- |
| user_id        |          |            |
| id_crad_name   |          | 身份证姓名 |
| id_crad_number |          | 身份证号码 |
| create_timestamp | Integer | 创建时间 |

---



### 地址表 tb_address

| 字段名称      | 字段类型 | 字段注释   |
| ------------- | -------- | ---------- |
| id            |          |            |
| user_id       |          |            |
| country       |          | 国家       |
| province      |          | 省份       |
| city          |          | 市         |
| county        |          | 县         |
| detailed      |          | 详细地址   |
| contact_name  |          | 联系人姓名 |
| contact_phone |          | 联系人手机 |
| sort       | Integer | 排序   |
| is_deleted    |          | 是否删除   |
| create_timestamp | Integer | 创建时间 |

---



### 分类表 tb_category

| 字段名称 | 字段类型 | 字段注释 |
| -------- | -------- | -------- |
| id       |          |          |
| named    |          | 名称     |
| cover    |          | 封面     |
| sort        | Integer | 排序 |

---



### 商品表 tb_commodity

| 字段名称         | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| category_id      |          | 分类ID |
| title            |          | 标题     |
| covor            |          | 封面     |
| intro            |          | 简介     |
| origin_price     |          | 原价     |
| current_price    |          | 现价     |
| inventory_count |          | 库存  |
| sort        | Integer | 排序 |
| is_upload        |          | 是否上架 |
| is_deleted    |          | 是否删除   |
| upload_timestamp | Integer | 上架时间 |
| create_timestamp | Integer | 创建时间 |
| last_update_timestamp | Integer | 修改时间 |

---



### 选购表 tb_shopping

| 字段名称       | 字段类型 | 字段注释 |
| -------------- | -------- | -------- |
| commodity_id   |          | 商品id   |
| user_id        |          | 用户id   |
| number         |          | 数量     |
| join_timestamp |          | 加入时间 |

---


### 收藏表 tb_favorite

| 字段名称       | 字段类型 | 字段注释 |
| -------------- | -------- | -------- |
| id               |          |          |
| commodity_id   |          | 商品id   |
| user_id        |          | 用户id   |
| is_deleted    |          | 是否删除   |
| join_timestamp |          | 加入时间 |

---



### 惠卷表 tb_coupon

| 字段名称       | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| num | Integer | 类型0:抵扣金额 / 类型1:万分比例(10000 = 100%) |
| kind | Integer | 类型(0:抵扣卷 / 1:折扣劵) |
| valid_time | Integer | 有效时间(单位为分钟) |
| is_deleted    |          | 是否删除   |
| create_timestamp | Integer | 创建时间 |

---



### 用户惠卷表 tb_user_coupon

| 字段名称       | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| user_id ||用户id|
| coupon_id ||用户id|
| is_used||是否已使用|
| join_timestamp |          | 加入时间 |

---



### 订单表 tb_order

| 字段名称         | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| commodity_id ||商品id|
| user_id ||用户id|
| address_id ||地址id|
| user_coupon_id||惠卷id|
| deal_price||交易价格|
| logistics_number|string|物流号码|
| status|Integer|状态|
| is_deleted    |          | 是否删除   |
| create_timestamp | Integer | 创建时间 |
| last_update_timestamp | Integer | 修改时间 |

---



### 评论表 tb_comment

| 字段名称         | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| commodity_id ||商品id|
| user_id ||用户id|
| content|string|内容|
|is_anonymity||是否匿名|
| is_show||是否显示|
| is_deleted    |          | 是否删除   |
| create_timestamp | Integer | 创建时间 |

---



### 横幅表 tb_banner

| 字段名称         | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| commodity_id ||商品id|
| full_cover ||封面|
| sort        | Integer | 排序 |
| is_deleted    |          | 是否删除   |
| create_timestamp | Integer | 创建时间 |

---



### 足迹表 tb_track

| 字段名称         | 字段类型 | 字段注释 |
| ---------------- | -------- | -------- |
| id               |          |          |
| commodity_id ||商品id|
| user_id ||用户id|
| join_timestamp |          | 加入时间 |

---



## 接口设计



### 客户端接口



#### 用户注册-申请验证短信

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户注册-验证验证短信

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户登陆-申请验证短信

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户登陆-申请验证短信

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户信息-修改昵称

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户信息-修改头像

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户信息-修改性别

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户地址-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户地址-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户地址-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 横幅列表

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 分类列表

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品列表

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品详情

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品评论-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品评论-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品评论-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 购物车-加入

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 购物车-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 购物车-移除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 收藏夹-加入

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 收藏夹-移除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 优惠卷-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户订单-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户订单-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户订单-付款

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 用户订单-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---



### 管理端接口




#### 统计

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---



#### 用户-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 用户-详情

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 商品分类-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品分类-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品分类-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```json

```



---

#### 商品分类-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 商品-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 商品-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 商品-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 商品-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 横幅-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 横幅-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 横幅-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 横幅-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 订单-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---




#### 订单-修改

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---

#### 惠卷-查询

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 惠卷-新增

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 惠卷-删除

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 惠卷-发放

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```




---

#### 财务

> 

Path: ``````

Method: ``````

Request

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Response

| 参数名称 | 参数类型 | 参数简介 | 是否必传 |
| -------- | -------- | -------- | :------- |
|          |          |          |          |



Example

```

```



---



## 第三方库

[邮件](https://github.com/kootenpv/yagmail)
[邮件账户设置](https://www.google.com/settings/security/lesssecureapps)

[头像生成](http://cn.gravatar.org/)需要配置代理


